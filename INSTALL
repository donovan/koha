Koha 3 - the next-generation release of the award-winning Koha open-source
integrated library system.

Koha is the first open-source Integrated Library System. Developed initially in
New Zealand by Katipo Communications, Ltd and first deployed in January of 2000
for the Horowhenua Library Trust, it is currently maintained by a team of
software providers and library technology staff from around the globe. Learn
more about the Koha project at http://koha.org.

INSTALLATION
============

Koha 3 comes with a new installer, based on MakeMaker, the tool that
is usually used to install CPAN modules.  This means that if you know
how to customise CPAN-installed modules, the same things should work
for you with Koha.  If not, don't worry.  If you want to customise the
installation more than described below, run "man ExtUtils::MakeMaker"

You need to have a server running Perl 5.8, MySQL 5 or PostgreSQL 8.2.5, Zebra
2.0.22 or greater and a webserver (preferably Apache2) before installing
Koha.

MySQL 5: Create a database called 'koha,' owned by 'kohaadmin'
user, with a password set. Note: kohaadmin must have at least the
following privileges: SELECT, INSERT, UPDATE, DELETE, CREATE, DROP,
ALTER, and LOCK TABLES.

PostgreSQL 8.2.5: Create a database called 'koha,' owned by 'kohaadmin' 
user, with a password set. Note: kohaadmin must be a superuser. You
must also add plpgsql to the koha database. NOTE: PostgreSQL support in
Koha is experimental and should not be attempted for production systems
without a heavy investment in testing

Default installation instructions:

1. perl Makefile.PL
  (you will be prompted to answer a number of questions and you will
  need to install some Perl dependencies)
  WARNING:
  1.1 A Perl library Koha depends on, MARC::File::XML may not work with Perl
    5.10, see: http://bugs.koha.org/cgi-bin/bugzilla/show_bug.cgi?id=2309),

  1.2 recent versions of CGI::Session have caused some issues for users;
  as of this release date, we suggest downloading the CGI::Session::serialize::yaml
  tarball direct from CPAN and install it directly rather than using the cpan command

2. make
3.(optional) make test 
4. sudo make install
5. sudo ln -s /etc/koha/koha-httpd.conf /etc/apache2/sites-available/koha
  (note that the path to koha-httpd.conf may be different depending on your
  installation choices)
6. sudo a2enmod rewrite
7. sudo a2ensite koha && /etc/init.d/apache2 reload
8. sudo zebrasrv -f /etc/koha/koha-conf.xml
  (note that you will want to run Zebra in daemon mode for a production
  system)
9. Browse to http://servername:8080/ and answer the questions

OR if you want to install all dependencies from CPAN and are root, you can
replace steps 1-3 with "perl install-CPAN.pl" but this is non-standard and
may not be safe.  Nevertheless, it's pretty cool when it works.

The defaults will install Koha to places that follow relevant standards,
such as the File Hierarchy Standard.  If you want to install Koha to a
different directory like /opt/koha, then replace step 1 with (for example):

1. perl Makefile.PL INTRANET_CGI_DIR=/www/cgi-bin

You can change most of the defaults in a similar way, such as DB_HOST.
For full instructions on how to override the default settings, run

$ perldoc rewrite-config.PL


UPGRADE
=======
If you are upgrading from a previous installation of Koha 3, you can
use the following:

 perl Makefile.PL --prev-install-log /path/to/koha-install-log
 make
 make test
 sudo make upgrade

IF YOU HAVE PROBLEMS
====================

IF THIS IS A PRE-RELEASE TREE: please contact developers by email via
http://lists.nongnu.org/mailman/listinfo/koha-devel
or
http://dir.gmane.org/gmane.education.libraries.koha.devel

IF THIS IS A RELEASED VERSION: please see the support pages at
http://www.koha.org/

Released versions usually have three-digit numbers, like 3.00.01,
while other version number styles are usually snapshots or previews.


DEVELOPER NOTES
===============

For instructions on how to package releases, run perldoc Makefile.PL
